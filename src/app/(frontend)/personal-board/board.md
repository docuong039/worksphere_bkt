# PERSONAL KANBAN BOARD

## 1. CÆ  Báº¢N

**User Stories Ä‘Æ°á»£c cover:**
- **US-EMP-07-01**: LÃ  ngÆ°á»i dÃ¹ng (EMP/MNG/CEO), tÃ´i muá»‘n **táº¡o task cÃ¡ nhÃ¢n** khÃ´ng thuá»™c báº¥t ká»³ dá»± Ã¡n nÃ o
- **US-EMP-07-02**: LÃ  ngÆ°á»i dÃ¹ng, tÃ´i muá»‘n **xem task cÃ¡ nhÃ¢n dÆ°á»›i dáº¡ng Kanban Board**, Ä‘á»ƒ trá»±c quan hÃ³a tiáº¿n Ä‘á»™
- **US-EMP-07-03**: LÃ  ngÆ°á»i dÃ¹ng, tÃ´i muá»‘n **cáº­p nháº­t, sáº¯p xáº¿p vÃ  xÃ³a task cÃ¡ nhÃ¢n**
- **US-EMP-07-04**: LÃ  ngÆ°á»i dÃ¹ng, tÃ´i muá»‘n **chuyá»ƒn Ä‘á»•i tráº¡ng thÃ¡i task cÃ¡ nhÃ¢n** báº±ng cÃ¡ch kÃ©o tháº£ trÃªn Kanban
- **US-EMP-07-05**: LÃ  ngÆ°á»i dÃ¹ng, tÃ´i muá»‘n **task cÃ¡ nhÃ¢n hoÃ n toÃ n riÃªng tÆ°**, khÃ´ng ai khÃ¡c cÃ³ thá»ƒ xem Ä‘Æ°á»£c

**Nguá»“n:** Epic EMP-07, MNG-10, CEO-07

**Route:** `/(frontend)/personal-board`

**Quyá»n truy cáº­p:**
- âœ… All authenticated users - chá»‰ xem task cá»§a mÃ¬nh
- âŒ KhÃ´ng ai cÃ³ thá»ƒ xem task cÃ¡ nhÃ¢n cá»§a ngÆ°á»i khÃ¡c

---

## 2. Dá»® LIá»†U

### 2.1. Database Tables

#### Báº£ng: `personal_tasks`
**Nguá»“n:** Section 3.8.4

| Column | Type | Hiá»ƒn thá»‹ UI? | Ghi chÃº |
|--------|------|--------------|---------|
| id | uuid | âŒ | PK |
| user_id | uuid | âŒ | **Ownership - RIÃŠNG TÆ¯** |
| org_id | uuid | âŒ | Isolation |
| title | varchar(500) | âœ… | TiÃªu Ä‘á» card |
| description | text | âœ… | MÃ´ táº£ chi tiáº¿t |
| status_code | varchar(30) | âœ… | Cá»™t Kanban |
| priority_code | varchar(30) | âœ… | Badge |
| due_date | date | âœ… | Deadline |
| sort_order | int | âŒ | Thá»© tá»± trong cá»™t |

---

### 2.2. API Endpoints

**GET /api/personal-tasks**

```typescript
interface PersonalTask {
  id: string;
  title: string;
  description: string | null;
  status_code: 'TODO' | 'IN_PROGRESS' | 'DONE';
  priority_code: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';
  due_date: string | null;
  sort_order: number;
}

// Grouped by status for Kanban
interface GetPersonalTasksResponse {
  TODO: PersonalTask[];
  IN_PROGRESS: PersonalTask[];
  DONE: PersonalTask[];
}
```

**POST /api/personal-tasks**
**PUT /api/personal-tasks/:id**
**DELETE /api/personal-tasks/:id**
**PATCH /api/personal-tasks/:id/reorder**

---

## 3. BUSINESS RULES

### Rule 1: HoÃ n toÃ n riÃªng tÆ°
**Nguá»“n:** Epic EMP-07-05

> "Task cÃ¡ nhÃ¢n hoÃ n toÃ n riÃªng tÆ°, khÃ´ng ai khÃ¡c trong cÃ´ng ty (ká»ƒ cáº£ PM/CEO/Admin) cÃ³ thá»ƒ xem Ä‘Æ°á»£c trá»« chÃ­nh tÃ´i."

**Implementation:**
```sql
-- Má»i query PHáº¢I cÃ³ filter user_id
SELECT * FROM personal_tasks 
WHERE user_id = :current_user_id 
  AND org_id = :current_org_id;

-- KhÃ´ng cÃ³ API Ä‘á»ƒ xem task cá»§a ngÆ°á»i khÃ¡c
```

---

## 4. GIAO DIá»†N

### 4.1. Wireframe Desktop - Kanban Board

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Sidebar]  â”‚  ğŸ“Œ Task CÃ¡ NhÃ¢n                  [+ ThÃªm Task] â”‚
â”‚             â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚             â”‚                                                   â”‚
â”‚             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚             â”‚  â”‚  ğŸ“‹ TO DO  â”‚ â”‚ ğŸ”„ DOING   â”‚ â”‚ âœ… DONE    â”‚    â”‚
â”‚             â”‚  â”‚  (3)       â”‚ â”‚  (2)       â”‚ â”‚  (5)       â”‚    â”‚
â”‚             â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚             â”‚  â”‚            â”‚ â”‚            â”‚ â”‚            â”‚    â”‚
â”‚             â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚             â”‚  â”‚ â”‚ ğŸ”´ Mua â”‚ â”‚ â”‚ â”‚ ğŸŸ¡ Viáº¿tâ”‚ â”‚ â”‚ â”‚â˜‘ï¸ Äá»c  â”‚ â”‚    â”‚
â”‚             â”‚  â”‚ â”‚ sÃ¡ch   â”‚ â”‚ â”‚ â”‚ blog   â”‚ â”‚ â”‚ â”‚ sÃ¡ch   â”‚ â”‚    â”‚
â”‚             â”‚  â”‚ â”‚ Jan 25 â”‚ â”‚ â”‚ â”‚        â”‚ â”‚ â”‚ â”‚        â”‚ â”‚    â”‚
â”‚             â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚             â”‚  â”‚            â”‚ â”‚            â”‚ â”‚            â”‚    â”‚
â”‚             â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚             â”‚  â”‚ â”‚ ğŸŸ¡ Há»c â”‚ â”‚ â”‚ â”‚ ğŸ”´ BÃ¡o â”‚ â”‚ â”‚ â”‚â˜‘ï¸ Gym  â”‚ â”‚    â”‚
â”‚             â”‚  â”‚ â”‚ tiáº¿ng  â”‚ â”‚ â”‚ â”‚ cÃ¡o    â”‚ â”‚ â”‚ â”‚        â”‚ â”‚    â”‚
â”‚             â”‚  â”‚ â”‚ Anh    â”‚ â”‚ â”‚ â”‚ Jan 20 â”‚ â”‚ â”‚ â”‚        â”‚ â”‚    â”‚
â”‚             â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚             â”‚  â”‚            â”‚ â”‚            â”‚ â”‚            â”‚    â”‚
â”‚             â”‚  â”‚ [+ Task]   â”‚ â”‚            â”‚ â”‚            â”‚    â”‚
â”‚             â”‚  â”‚            â”‚ â”‚            â”‚ â”‚            â”‚    â”‚
â”‚             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚             â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. KANBAN CARD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ URGENT              â”‚  â† Priority badge
â”‚ Mua sÃ¡ch ká»¹ thuáº­t      â”‚  â† Title
â”‚                        â”‚
â”‚ Mua quyá»ƒn Clean Code   â”‚  â† Description (truncated)
â”‚                        â”‚
â”‚ ğŸ“… Jan 25, 2026        â”‚  â† Due date
â”‚         [âœï¸] [ğŸ—‘ï¸]      â”‚  â† Actions on hover
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ADD/EDIT TASK FORM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Œ ThÃªm Task CÃ¡ NhÃ¢n                                [X]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  TiÃªu Ä‘á» *                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Mua sÃ¡ch ká»¹ thuáº­t                                  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â”‚  MÃ´ táº£                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Mua quyá»ƒn Clean Code vÃ  Design Patterns            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â”‚  Äá»™ Æ°u tiÃªn                                                  â”‚
â”‚  â—‹ Low  â—‹ Medium  â— High  â—‹ Urgent                          â”‚
â”‚                                                              â”‚
â”‚  Háº¡n chÃ³t                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ ğŸ“… 25/01/2026    â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                              â”‚
â”‚                                    [Há»§y]  [LÆ°u]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. INTERACTIONS

### 7.1. Drag & Drop
1. User kÃ©o card tá»« cá»™t "TODO"
2. Tháº£ vÃ o cá»™t "IN_PROGRESS"
3. API call: `PATCH /api/personal-tasks/:id/reorder`
4. Update `status_code` vÃ  `sort_order`

### 7.2. Quick Add
1. Click "+ Task" á»Ÿ cuá»‘i cá»™t
2. Inline input xuáº¥t hiá»‡n
3. Enter â†’ Táº¡o task vá»›i status cá»§a cá»™t Ä‘Ã³

### 7.3. Edit Card
1. Click âœï¸ icon (hoáº·c click card)
2. Modal form má»Ÿ ra
3. Save â†’ Update

### 7.4. Delete Card
1. Click ğŸ—‘ï¸ icon
2. Confirm dialog
3. Delete â†’ Remove from board

---

## 8. STATES

### 8.1. Loading
- Skeleton columns

### 8.2. Empty
```
ğŸ“Œ ChÆ°a cÃ³ task cÃ¡ nhÃ¢n nÃ o
Táº¡o task Ä‘áº§u tiÃªn Ä‘á»ƒ theo dÃµi cÃ´ng viá»‡c riÃªng!
[+ Táº¡o Task]
```

### 8.3. Dragging
- Opacity 50% trÃªn card Ä‘ang kÃ©o
- Placeholder á»Ÿ vá»‹ trÃ­ tháº£

---

## 9. MOBILE VIEW

TrÃªn mobile, hiá»ƒn thá»‹ dáº¡ng tab thay vÃ¬ column:
- Tab bar: `TODO | DOING | DONE`
- Swipe Ä‘á»ƒ chuyá»ƒn tab
- Swipe card Ä‘á»ƒ Ä‘á»•i status

---

## 10. RELATED PAGES

```
/personal-board (This page - Ä‘á»™c láº­p)
```

---

**END OF DOCUMENTATION**
