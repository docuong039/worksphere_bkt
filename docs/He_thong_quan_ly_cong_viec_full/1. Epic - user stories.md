## Phần mềm quản lý công việc - Tài liệu BA Agile

### 1. Vai trò: Nhân viên (Developer, Tester, Data Processor, Support)

#### **Epic EMP-00: Xác thực & Truy cập (Authentication)**

| ID Story         | User Story                                                                                                                                 | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-EMP-00-01** | Là người dùng, tôi muốn **đăng nhập** bằng email và mật khẩu, để truy cập vào hệ thống làm việc.                                           | _Bổ sung mới_               |
| **US-EMP-00-02** | Là người dùng, tôi muốn **đăng xuất** khỏi hệ thống, để bảo vệ tài khoản khi không sử dụng.                                                | _Bổ sung mới_               |
| **US-EMP-00-03** | Là người dùng, tôi muốn **yêu cầu khôi phục mật khẩu** qua email khi quên, để có thể lấy lại quyền truy cập tài khoản một cách tự phục vụ. | _Bổ sung mới_               |

#### **Epic EMP-01: Quản lý công việc cá nhân**

| ID Story         | User Story                                                                                                                                               | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-EMP-01-01** | Là nhân viên, tôi muốn **xem danh sách các task được giao** (theo dự án hoặc tất cả), để biết mình cần làm gì trong ngày.                                | CSV Epic 1                  |
| **US-EMP-01-02** | Là nhân viên, tôi muốn **tìm kiếm và lọc task** (theo trạng thái, độ ưu tiên, tên, và các trường tùy chỉnh), để nhanh chóng tìm thấy công việc cụ thể.   | CSV Epic 10                 |
| **US-EMP-01-03** | Là nhân viên, tôi muốn **thêm subtask (đầu việc con)** vào task chính với ngày bắt đầu và ngày kết thúc, để chia nhỏ và lập kế hoạch công việc chi tiết. | CSV Epic 2                  |
| **US-EMP-01-04** | Là nhân viên, tôi muốn **chỉnh sửa hoặc xóa subtask do mình tạo**, để cập nhật thông tin chính xác nếu có sai sót.                                       | CSV Epic 3, 4               |
| **US-EMP-01-05** | Là nhân viên, tôi muốn **chuyển trạng thái subtask** (VD: To Do -> In Progress -> Done), để báo cáo chính xác tiến độ của đầu việc con.                  | _Cập nhật_                  |
| **US-EMP-01-06** | Là nhân viên, tôi muốn **đính kèm file/tài liệu** vào task hoặc subtask, để minh chứng kết quả hoặc lưu trữ tài liệu liên quan.                          | _Bổ sung mới_               |
| **US-EMP-01-07** | Là nhân viên, tôi muốn **bình luận và trao đổi (Discuss)** trực tiếp trên task/subtask, để làm rõ yêu cầu hoặc báo cáo vấn đề.                           | _Bổ sung mới_               |
| **US-EMP-01-08** | Là nhân viên, tôi muốn **tag người được assign vào bình luận** bằng ký hiệu `@username`, để gọi chú ý họ một cách trực tiếp.                             | _Bổ sung mới_               |
| **US-EMP-01-09** | Là nhân viên, tôi muốn **comment của tôi trở thành một cuộc trò chuyện (thread)** trong task/subtask, để dễ theo dõi toàn bộ thảo luận theo chủ đề.      | _Bổ sung mới_               |
| **US-EMP-01-10** | Là nhân viên, tôi muốn **sắp xếp thứ tự các subtask** do mình tạo, để tổ chức công việc theo trình tự thực hiện cá nhân.                                 | _Bổ sung mới_               |
| **US-EMP-01-11** | Là nhân viên, tôi muốn **sửa các cột/trường thông tin trong task** mà PM/MNG phân quyền cho tôi, để PM/MNG có thể xem kết quả đầy đủ hơn                 | _Bổ sung mới_               |

**Lưu ý phân quyền nghiệp vụ (chốt):**

- EMP **chỉ được xem** các Task mà PM/MNG giao (assigned).
- EMP **không có quyền chỉnh sửa Task** (title/priority/status/due_date...). Việc chỉnh sửa/đổi trạng thái Task thuộc quyền PM/MNG. EMP chỉ được chỉnh sửa trên task các trường mà PM/MNG chỉ định / phân quyền.
- EMP **toàn quyền (CRUD) Subtask do mình tạo** trong Task được giao (theo rule ownership `created_by`).
- EMP **có quyền comment trên Task/Subtask** được giao, với khả năng tag người được assign hoặc tag người khác.
- **Comment thread**: Mỗi comment có thể trở thành một thread với các reply từ người khác, giúp tổ chức cuộc trò chuyện theo chủ đề.

#### **Epic EMP-02: Ghi nhận thời gian & Tiến độ**

| ID Story         | User Story                                                                                                                                                          | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-------------------------- |
| **US-EMP-02-01** | Là nhân viên, tôi muốn **log time (nhập thời gian làm việc)** vào từng task, để hệ thống ghi nhận công sức thực tế.                                                 | CSV Epic 5                  |
| **US-EMP-02-02** | Là nhân viên, tôi muốn **log time (nhập thời gian làm việc)** vào từng subtask, để chi tiết hóa thời gian thực hiện từng đầu việc con.                              | _Bổ sung mới_               |
| **US-EMP-02-03** | Là nhân viên, tôi muốn **xem lịch sử log time** của mình trong ngày/tuần, để kiểm tra xem mình có quên log giờ nào không.                                           | _Đề xuất thêm_              |
| **US-EMP-02-04** | Là nhân viên, tôi muốn **chỉnh sửa hoặc xóa các bản ghi log time** đã nhập (khi task chưa bị khóa), để đính chính thông tin trong trường hợp ghi nhầm hoặc sai sót. | _Bổ sung mới_               |

#### **Epic EMP-03: Báo cáo định kỳ & Phản hồi**

| ID Story         | User Story                                                                                                                   | Ghi chú/Nguồn (CSV/Đề xuất)     |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------- | :------------------------------ |
| **US-EMP-03-01** | Là nhân viên, tôi muốn **tạo và gửi báo cáo (tuần/tháng)** trên một form duy nhất, để không phải gửi nhiều nơi rườm rà.      | CSV Epic 8 ("1 luồng duy nhất") |
| **US-EMP-03-02** | Là nhân viên, tôi muốn **xem/xuất lịch sử báo cáo** của cá nhân, để lưu trữ hoặc xem lại thành tích.                         | CSV Epic 7                      |
| **US-EMP-03-03** | Là nhân viên, tôi muốn **nhận thông báo và xem nhận xét** của Leader/CEO vào task hoặc báo cáo, để rút kinh nghiệm kịp thời. | CSV Epic 6, 9                   |

#### **Epic EMP-04: Activity (Nhật ký hoạt động)**

| ID Story         | User Story                                                                                                              | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-EMP-04-01** | Là nhân viên, tôi muốn **xem Activity của chính mình theo từng ngày**, để theo dõi lịch sử làm việc của bản thân.       | _Bổ sung mới_               |
| **US-EMP-04-02** | Là nhân viên, tôi muốn Activity hiển thị các sự kiện như **chốt subtask, log time, comment** để dễ đối chiếu công việc. | _Bổ sung mới_               |

#### **Epic EMP-05: Thông báo (Notifications)**

| ID Story         | User Story                                                                                                                                     | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-EMP-05-01** | Là nhân viên, tôi muốn **nhận thông báo** khi tôi được **gán vào một Task**, để kịp thời bắt đầu công việc.                                    | _Bổ sung mới_               |
| **US-EMP-05-02** | Là nhân viên, tôi muốn **nhận thông báo** khi PM/MNG **chốt Task Done** hoặc **mở khóa/khóa kỳ**, để biết thời điểm được log time/sửa dữ liệu. | _Bổ sung mới_               |
| **US-EMP-05-03** | Là nhân viên, tôi muốn **nhận thông báo** khi có **comment** trên Task/Subtask của tôi, để phản hồi kịp thời.                                  | _Bổ sung mới_               |
| **US-EMP-05-04** | Là nhân viên, tôi muốn **xem danh sách thông báo** theo trạng thái **chưa đọc/đã đọc** và đánh dấu đã đọc, để không bỏ sót.                    | _Bổ sung mới_               |

#### **Epic EMP-06: Thùng rác cá nhân (Personal Recycle Bin)**

| ID Story         | User Story                                                                                                                | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------ | :-------------------------- |
| **US-EMP-06-01** | Là nhân viên, tôi muốn **xem danh sách các mục tôi đã xóa** (subtask, log time, comment), để kiểm tra lại khi cần.        | _Bổ sung mới_               |
| **US-EMP-06-02** | Là nhân viên, tôi muốn **khôi phục các mục đã xóa** của chính mình, để sửa lỗi nếu lỡ tay xóa nhầm mà chưa bị PM khóa kỳ. | _Bổ sung mới_               |

#### **Epic EMP-07: Quản lý Task cá nhân (Personal Tasks)**

| ID Story         | User Story                                                                                                                                   | Ghi chú/Logic            |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------- |
| **US-EMP-07-01** | Là người dùng (EMP/MNG/CEO), tôi muốn **tạo task cá nhân** không thuộc bất kỳ dự án nào, để quản lý các đầu việc riêng tư.                   | _Tính năng mới_          |
| **US-EMP-07-02** | Là người dùng, tôi muốn **xem task cá nhân dưới dạng Kanban Board**, để trực quan hóa tiến độ công việc riêng của mình.                      | _Tính năng mới_          |
| **US-EMP-07-03** | Là người dùng, tôi muốn **cập nhật, sắp xếp và xóa task cá nhân**, để duy trì danh sách công việc gọn gàng.                                  | _Tính năng mới_          |
| **US-EMP-07-04** | Là người dùng, tôi muốn **chuyển đổi trạng thái task cá nhân** bằng cách kéo thả trên Kanban, để báo cáo tiến độ nhanh chóng.                | _Tính năng mới_          |
| **US-EMP-07-05** | Là người dùng, tôi muốn **task cá nhân hoàn toàn riêng tư**, không ai khác trong công ty (kể cả PM/CEO/Admin) có thể xem được trừ chính tôi. | _Bảo mật quyền riêng tư_ |

---

### 2. Vai trò: Quản lý (Project Manager, CTO)

#### **Epic MNG-00: Xác thực & Truy cập (Authentication)**

| ID Story         | User Story                                                                                         | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-00-01** | Là Quản lý, tôi muốn **đăng nhập** để điều phối dự án và phê duyệt công việc.                      | _Bổ sung mới_               |
| **US-MNG-00-02** | Là Quản lý, tôi muốn **đăng xuất** để đảm bảo an toàn thông tin dự án.                             | _Bổ sung mới_               |
| **US-MNG-00-03** | Là Quản lý, tôi muốn **quên mật khẩu** và nhận link reset qua email để chủ động lấy lại tài khoản. | _Bổ sung mới_               |

#### **Epic MNG-01: Quản lý Dự án & Phân công**

| ID Story         | User Story                                                                                                                                                                                                             | Ghi chú/Nguồn (CSV/Đề xuất)                                                                                                                                                                                                                                                     |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **US-MNG-01-01** | Là PM, tôi muốn **tạo mới và cập nhật thông tin dự án**, để thiết lập không gian làm việc cho team.                                                                                                                    | CSV Epic 9                                                                                                                                                                                                                                                                      |
| **US-MNG-01-02** | Là PM, tôi muốn **tạo task và gán cho nhân sự** (có thể gán nhiều người 1 task), để phân chia công việc rõ ràng.                                                                                                       | CSV Epic 10                                                                                                                                                                                                                                                                     |
| **US-MNG-01-03** | Là PM, tôi muốn **gắn thẻ (tags) và độ ưu tiên (priority)** cho task, để team biết việc nào cần làm gấp.                                                                                                               | CSV Epic 20, 21                                                                                                                                                                                                                                                                 |
| **US-MNG-01-04** | Là PM, tôi muốn **chuyển trạng thái task** (VD: To Do -> In Progress -> Done), để chốt kết quả và cho phép nhân sự log time.                                                                                           | _Cập nhật_                                                                                                                                                                                                                                                                      |
| **US-MNG-01-05** | Là PM, tôi muốn **theo dõi trạng thái test và fix lỗi** của dự án, để đảm bảo chất lượng trước khi release.                                                                                                            | CSV Epic 19                                                                                                                                                                                                                                                                     |
| **US-MNG-01-06** | Là PM, tôi muốn **đính kèm file tài liệu/đầu bài** vào task, để nhân sự có đủ thông tin thực hiện công việc.                                                                                                           | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-07** | Là PM, tôi muốn **bình luận chỉ đạo hoặc thảo luận** cùng team trên task/subtask, để kịp thời tháo gỡ khó khăn.                                                                                                        | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-08** | Là PM, tôi muốn **tag các người được assign vào bình luận** để gọi chú ý họ trực tiếp, giải quyết vấn đề nhanh chóng.                                                                                                  | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-09** | Là PM, tôi muốn **xem cuộc trò chuyện dưới dạng thread** để nắm bắt luồng trao đổi của team.                                                                                                                           | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-10** | Là PM, tôi muốn **tạo các trường tùy chỉnh (Custom Fields)** cho task/subtask theo từng dự án, để theo dõi các thông tin đặc thù của dự án đó.                                                                         | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-11** | Là PM, tôi muốn **tìm kiếm và lọc toàn bộ task trong dự án** (theo nhân sự, trạng thái, độ ưu tiên, và các trường tùy chỉnh), để giám sát tiến độ và quản lý hiệu quả.                                                 | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-12** | Là PM, tôi muốn **xuất danh sách task ra file .xlsx**, với khả năng lựa chọn các trường thông tin cần xuất (bao gồm cả custom fields), để phục vụ báo cáo bên ngoài hoặc lưu trữ ngoại tuyến.                          | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-13** | Là PM, tôi muốn **chỉ định cụ thể người dùng nào** được phép chỉnh sửa **trường thông tin nào** của Task hoặc Subtask trong dự án (ví dụ: User A sửa 'Mô tả', User B sửa 'Custom Field X', cả hai cùng sửa 'Tiêu đề'). | **Nâng cấp mới**                                                                                                                                                                                                                                                                |
| **US-MNG-01-14** | Là PM, tôi muốn **sắp xếp thứ tự các task** trong dự án, để ưu tiên hiển thị các hạng mục quan trọng lên trên.                                                                                                         | _Bổ sung mới_                                                                                                                                                                                                                                                                   |
| **US-MNG-01-15** | Là PM, tôi muốn **Import danh sách task** từ file Excel/CSV, hỗ trợ cả các cột thông tin cơ bản và các cột **Custom Fields** của dự án, để khởi tạo dữ liệu nhanh chóng.                                               | Yêu cầu người dùng phải tạo các Custom Fields trên phần mềm trước, sau đó file Excel nhập vào phải có tên cột trùng khớp với tên Field đã tạo thì mới Import được dữ liệu này. (Lý do: Để tránh logic phức tạp là vừa import vừa tự sinh ra trường dữ liệu mới, dễ gây rác DB). |

**Cập nhật quy tắc nghiệp vụ:**

- Khi nhân viên (EMP) thực hiện cập nhật Task, hệ thống sẽ đối soát danh sách các trường gửi lên với "Ma trận quyền" của User đó trong dự án.
- **Xử lý xung đột (Concurrency):** Sử dụng cơ chế **Optimistic Locking** thông qua cột `row_version` đã có trong bảng `tasks`. Nếu hai người cùng sửa một trường (hoặc các trường khác nhau trên cùng 1 row) tại cùng một thời điểm, người gửi sau sẽ bị từ chối nếu `row_version` đã thay đổi.

#### **Epic MNG-02: Dashboard Giám sát Hiệu suất**

| ID Story         | User Story                                                                                                                         | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-02-01** | Là PM, tôi muốn **xem dashboard thống kê dự án** (tiến độ, % hoàn thành), để nắm bắt tình trạng sức khỏe dự án.                    | CSV Epic 1                  |
| **US-MNG-02-02** | Là PM, tôi muốn **xem thống kê chi tiết theo nhân sự** (tỉ lệ hoàn thành, trễ hạn), để đánh giá hiệu suất làm việc của thành viên. | CSV Epic 3                  |

#### **Epic MNG-03: Quản lý Tài nguyên & Chi phí Dự án**

| ID Story         | User Story                                                                                                               | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-03-01** | Là PM, tôi muốn **quản lý thông tin hồ sơ nhân sự**, để nắm được background của team member.                             | CSV Epic 4                  |
| **US-MNG-03-02** | Là PM, tôi muốn **cập nhật bậc (level) và mức lương** cho nhân sự, để hệ thống có cơ sở tính toán chi phí.               | CSV Epic 5, 6               |
| **US-MNG-03-03** | Là PM, tôi muốn **xem báo cáo chi phí trả lương cho dự án** (dựa trên time log x lương), để kiểm soát ngân sách thực tế. | CSV Epic 7                  |

#### **Epic MNG-04: Kiểm soát Chu kỳ làm việc**

| ID Story         | User Story                                                                                                                                             | Ghi chú/Nguồn (CSV/Đề xuất)     |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------ |
| **US-MNG-04-01** | Là PM, tôi muốn **khóa tất cả task và toàn bộ log time đi kèm** của nhân sự theo tuần/tháng, để chốt công và ngăn chặn việc chỉnh sửa dữ liệu quá khứ. | _Cập nhật cơ chế khóa log time_ |
| **US-MNG-04-02** | Là PM, tôi muốn **mở khóa task và log time tương ứng**, để nhân sự có thể sửa lại sai sót ngay cả khi đã qua chu kỳ chốt công.                         | _Cập nhật cơ chế mở khóa_       |
| **US-MNG-04-03** | Là PM, tôi muốn **xem và phản hồi báo cáo định kỳ** của nhân sự, để ghi nhận kết quả và chỉ đạo tiếp theo.                                             | CSV Epic 11, 12                 |

### Tóm tắt luồng hoạt động:

- **Quy tắc Log Time:**
  - **Điều kiện cần:** Chỉ khi đối tượng (Task/Subtask) ở trạng thái **Hoàn thành (Done)** thì mới được phép log time.
  - **Thao tác trạng thái:**
    - Đối với **Task chính**: Chỉ Quản lý (PM/MNG) có quyền chuyển trạng thái sang Done. Nhân viên không có quyền tự chốt hoàn thành Task chính.
    - Đối với **Subtask**: Nhân viên (EMP) có quyền tự chuyển trạng thái hoàn thành cho Subtask do mình phụ trách.
  - **Phân bổ Log Time:**
    - Nếu Task chính **có Subtask**: Nhân viên bắt buộc phải log time vào từng Subtask (đã hoàn thành).
    - Nếu Task chính **không có Subtask**: Nhân viên thực hiện log time trực tiếp vào Task chính (sau khi PM đã chuyển Task sang Done).
- **Giai đoạn đang làm việc:** Nhân viên có toàn quyền log time, xem lại lịch sử và **chỉnh sửa/xóa** nếu phát hiện sai sót (US-EMP-02-04).
- **Giai đoạn chốt công (Tuần/Tháng):** Khi Quản lý thực hiện lệnh khóa theo chu kỳ, hệ thống sẽ **vô hiệu hóa quyền chỉnh sửa** đối với cả trạng thái task và các bản ghi log time đã lưu.
- **Trường hợp đặc biệt:** Nếu phát hiện sai sót sau khi đã khóa, chỉ Quản lý mới có quyền mở khóa để nhân viên vào thực hiện điều chỉnh lại.

- **Quy tắc Comment & Tagging:**
  - Comment là một công cụ trò chuyện để trao đổi trực tiếp trên task/subtask.
  - Người bình luận có thể tag người được assign vào task bằng `@username`.
  - Các comment có thể được sắp xếp thành thread (cuộc trò chuyện) để dễ theo dõi.
  - Mọi người được assign vào task đều nhận được thông báo khi bị tag hoặc được reply trong comment.

Việc kết hợp chặt chẽ giữa việc cho phép sửa lỗi cá nhân và tính kỷ luật khi khóa dữ liệu giống như một **"cuốn sổ cái có thời hạn"**: nhân viên có thể dùng tẩy để sửa những dòng mình vừa viết, nhưng một khi thủ quỹ đã đóng sổ và đóng dấu niêm phong theo tuần, không ai có thể tẩy xóa được nữa trừ khi có chìa khóa của người quản lý.

#### **Epic MNG-05: Quản lý Tài sản & Quy trình Kỹ thuật**

| ID Story         | User Story                                                                                                                                         | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-05-01** | Là PM/CTO, tôi muốn **quản lý tài liệu/form mẫu** (upload, share, preview), để team dùng chung chuẩn tài liệu.                                     | CSV Epic 13                 |
| **US-MNG-05-02** | Là PM/CTO, tôi muốn **lưu trữ link mô tả dữ liệu dự án và quy trình** (thay vì file rời rạc), để quản lý tập trung tài nguyên data.                | CSV Epic 17                 |
| **US-MNG-05-03** | Là PM/CTO, tôi muốn **quản lý thông tin source code (link git) hoặc upload file code** (với dự án game gdevelop), để kiểm soát phiên bản mã nguồn. | CSV Epic 22                 |
| **US-MNG-05-04** | Là PM/CTO, tôi muốn **quản lý thông tin deploy**, để biết phiên bản nào đang chạy trên môi trường nào.                                             | CSV Epic 18                 |
| **US-MNG-05-05** | Là PM/CTO, tôi muốn **chia sẻ thông tin cần thiết cho user nào đó**, để user đó có thể nắm được thông tin                                          | CSV Epic 18                 |

---

#### **Epic MNG-06: Activity (Nhật ký hoạt động dự án)**

| ID Story         | User Story                                                                                                                             | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-06-01** | Là PM, tôi muốn **xem Activity của chính mình và toàn bộ EMP trong dự án mà tôi quản lý** theo từng ngày, để giám sát tiến độ thực tế. | _Bổ sung mới_               |
| **US-MNG-06-02** | Là PM, tôi muốn lọc Activity theo **dự án / nhân sự / loại sự kiện**, để nhanh chóng kiểm tra những thay đổi quan trọng.               | _Bổ sung mới_               |

#### **Epic MNG-07: Thông báo (Notifications)**

| ID Story         | User Story                                                                                                                        | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :-------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-07-01** | Là PM, tôi muốn nhận thông báo khi **EMP hoàn thành Subtask** hoặc có **log time** phát sinh, để nắm tiến độ thực tế trong dự án. | _Bổ sung mới_               |
| **US-MNG-07-02** | Là PM, tôi muốn nhận thông báo khi **EMP comment/báo vấn đề** trên Task/Subtask, để hỗ trợ kịp thời.                              | _Bổ sung mới_               |
| **US-MNG-07-03** | Là PM, tôi muốn cấu hình **bật/tắt** một số loại thông báo theo dự án, để tránh nhiễu.                                            | _Bổ sung mới_               |

#### **Epic MNG-08: Quản trị Thùng rác dự án (Project Recycle Bin)**

| ID Story         | User Story                                                                                                                           | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-08-01** | Là PM, tôi muốn **xem danh sách dữ liệu đã xóa trong dự án** (Task, Subtask, Time log, Resource), để kiểm soát việc mất mát dữ liệu. | _Bổ sung mới_               |
| **US-MNG-08-02** | Là PM, tôi muốn **khôi phục dữ liệu đã xóa** trong dự án mà tôi quản lý, để phục hồi các thông tin quan trọng bị xóa nhầm.           | _Bổ sung mới_               |
| **US-MNG-08-03** | Là PM, tôi muốn **xóa vĩnh viễn** các mục trong thùng rác sau khi đã kiểm tra kỹ, để dọn dẹp không gian lưu trữ của dự án.           | _Bổ sung mới_               |

#### **Epic MNG-09: Biểu đồ Gantt (Gantt Chart)**

| ID Story         | User Story                                                                                                                                                 | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-MNG-09-01** | Là PM, tôi muốn **xem biểu đồ Gantt của dự án**, để có cái nhìn tổng quan về tiến độ và thời gian thực hiện các Task/Subtask.                              | _Bổ sung mới_               |
| **US-MNG-09-02** | Là PM, tôi muốn **thay đổi trục thời gian (X-axis)** của biểu đồ Gantt theo **Ngày, Tuần, Tháng, Quý**, để theo dõi dự án ở các cấp độ chi tiết khác nhau. | _Bổ sung mới_               |
| **US-MNG-09-03** | Là PM, tôi muốn biểu đồ Gantt có thể chọn và hiển thị **Task và Subtask trên trục Y**, giúp quản lý phân cấp công việc trực quan.                          | _Bổ sung mới_               |
| **US-MNG-09-04** | Là PM, tôi muốn mỗi thanh Gantt hiển thị rõ **điểm bắt đầu, điểm kết thúc và độ dài (duration)** của Task/Subtask, để dễ dàng đối soát với kế hoạch.       | _Bổ sung mới_               |
| **US-MNG-09-05** | Là PM, tôi muốn **lọc biểu đồ Gantt theo nhân sự hoặc trạng thái**, để tập trung vào các phần việc cụ thể trong dòng thời gian.                            | _Bổ sung mới_               |

#### **Epic MNG-10: Quản lý Task cá nhân (Personal Tasks)**

| ID Story         | User Story                                                                                                         | Ghi chú/Logic            |
| :--------------- | :----------------------------------------------------------------------------------------------------------------- | :----------------------- |
| **US-MNG-10-01** | Là Quản lý, tôi muốn **tạo task cá nhân** không thuộc dự án, để quản lý lịch trình làm việc riêng của mình.        | _Tính năng mới_          |
| **US-MNG-10-02** | Là Quản lý, tôi muốn **quản lý task cá nhân qua Kanban**, giúp sắp xếp thứ tự ưu tiên các việc cần xử lý gấp.      | _Tính năng mới_          |
| **US-MNG-10-03** | Là Quản lý, tôi muốn các task cá nhân **hoàn toàn riêng tư**, đảm bảo không ảnh hưởng đến dữ liệu chung của dự án. | _Bảo mật quyền riêng tư_ |

### 3. Vai trò: Ban lãnh đạo (CEO, Chủ tịch)

#### **Epic CEO-00: Xác thực & Truy cập (Authentication)**

| ID Story         | User Story                                                                                 | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :----------------------------------------------------------------------------------------- | :-------------------------- |
| **US-CEO-00-01** | Là CEO, tôi muốn **đăng nhập** để xem dashboard tổng thể và báo cáo tài chính.             | _Bổ sung mới_               |
| **US-CEO-00-02** | Là CEO, tôi muốn **đăng xuất** để bảo mật dữ liệu chiến lược của công ty.                  | _Bổ sung mới_               |
| **US-CEO-00-03** | Là CEO, tôi muốn **quên mật khẩu** để tự reset khi cần mà không phải qua bộ phận kỹ thuật. | _Bổ sung mới_               |

#### **Epic CEO-01: Tổng quan Quản trị Doanh nghiệp**

| ID Story         | User Story                                                                                                                           | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-CEO-01-01** | Là CEO, tôi muốn **xem dashboard tổng hợp tất cả dự án**, để biết bức tranh toàn cảnh tiến độ công ty.                               | CSV Epic 1                  |
| **US-CEO-01-02** | Là CEO, tôi muốn **xem lịch sử làm việc trọn đời của nhân sự** (từ lúc vào đến lúc nghỉ), để đánh giá lòng trung thành và cống hiến. | CSV Epic 2                  |

#### **Epic CEO-02: Chiến lược Nhân sự & Tài chính**

| ID Story         | User Story                                                                                                              | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-CEO-02-01** | Là CEO, tôi muốn **xem danh sách cấp bậc và mức lương toàn công ty**, để cân nhắc kế hoạch tăng giảm nhân sự/quỹ lương. | CSV Epic 3, 4               |
| **US-CEO-02-02** | Là CEO, tôi muốn **xem tổng chi phí nhân sự cho từng dự án**, để biết dự án nào đang "ngốn" nhiều tiền nhất.            | CSV Epic 5                  |
| **US-CEO-02-03** | Là CEO, tôi muốn **tra cứu hồ sơ lý lịch và hợp đồng nhân sự**, để nắm thông tin pháp lý khi cần thiết.                 | CSV Epic 6, 7               |

#### **Epic CEO-03: Giám sát & Tương tác Báo cáo**

| ID Story         | User Story                                                                                                                          | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-CEO-03-01** | Là CEO, tôi muốn **đọc báo cáo tuần/tháng/quý của bất kỳ nhân sự nào**, để nắm tình hình không qua lăng kính của quản lý cấp trung. | CSV Epic 8                  |
| **US-CEO-03-02** | Là CEO, tôi muốn **thả biểu tượng cảm xúc (Reaction)** vào báo cáo, để động viên nhân viên một cách nhanh chóng, thân thiện.        | CSV Epic 10                 |
| **US-CEO-03-03** | Là CEO, tôi muốn **viết phản hồi (Comment) chỉ đạo trực tiếp** vào báo cáo, để nhân viên nhận được chỉ thị từ cấp cao nhất.         | CSV Epic 9                  |

---

#### **Epic CEO-04: Activity (Nhật ký hoạt động toàn công ty)**

| ID Story         | User Story                                                                                                               | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-CEO-04-01** | Là CEO/Chủ tịch, tôi muốn **xem Activity của chính mình và toàn bộ nhân viên trong công ty (MNG + EMP)** theo từng ngày. | _Bổ sung mới_               |
| **US-CEO-04-02** | Là CEO/Chủ tịch, tôi muốn lọc Activity theo **dự án / nhân sự / loại sự kiện**, để đánh giá vận hành nhanh.              | _Bổ sung mới_               |

#### **Epic CEO-05: Thông báo (Notifications)**

| ID Story         | User Story                                                                                                                             | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------- |
| **US-CEO-05-01** | Là CEO/Chủ tịch, tôi muốn nhận thông báo khi có **báo cáo tuần/tháng được gửi** hoặc có **phản hồi quan trọng** trong công ty.         | _Bổ sung mới_               |
| **US-CEO-05-02** | Là CEO/Chủ tịch, tôi muốn nhận thông báo khi dự án có các sự kiện "đỏ" như **trễ hạn nhiều task** hoặc **bị block**, để can thiệp sớm. | _Bổ sung mới_               |

#### **Epic CEO-06: Thùng rác công ty (Org Recycle Bin)**

| ID Story         | User Story                                                                                                                      | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------ | :-------------------------- |
| **US-CEO-06-01** | Là CEO, tôi muốn **xem danh sách tất cả dữ liệu đã xóa toàn công ty**, để giám sát tính toàn vẹn của dữ liệu doanh nghiệp.      | _Bổ sung mới_               |
| **US-CEO-06-02** | Là CEO, tôi muốn **khôi phục bất kỳ dữ liệu nào đã bị xóa** trong công ty, để đảm bảo không có thông tin quan trọng nào bị mất. | _Bổ sung mới_               |

#### **Epic CEO-07: Quản lý Task cá nhân (Personal Tasks)**

| ID Story         | User Story                                                                                                          | Ghi chú/Logic            |
| :--------------- | :------------------------------------------------------------------------------------------------------------------ | :----------------------- |
| **US-CEO-07-01** | Là CEO, tôi muốn **tạo task cá nhân riêng tư**, để quản lý các công việc mang tính chiến lược hoặc ghi chú cá nhân. | _Tính năng mới_          |
| **US-CEO-07-02** | Là CEO, tôi muốn **sử dụng Kanban Board cho task cá nhân**, để theo dõi các đầu việc quan trọng cần hoàn thành.     | _Tính năng mới_          |
| **US-CEO-07-03** | Là CEO, tôi muốn đảm bảo các task cá nhân **không ai có thể truy cập**, để bảo vệ thông tin cá nhân.                | _Bảo mật quyền riêng tư_ |

### 4. Vai trò: Quản trị Hệ thống (System Admin - Là Bạn)

_Đây là người quản lý toàn bộ nền tảng, có quyền "God Mode" để kiểm soát các tổ chức khác._

#### **Epic SYS-00: Xác thực & Truy cập (Authentication)**

| ID Story         | User Story                                                                                 | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :----------------------------------------------------------------------------------------- | :-------------------------- |
| **US-SYS-00-01** | Là System Admin, tôi muốn **đăng nhập** với bảo mật cao để quản trị toàn bộ nền tảng SaaS. | _Bổ sung mới_               |
| **US-SYS-00-02** | Là System Admin, tôi muốn **đăng xuất** ngay lập tức để ngắt các phiên làm việc đặc quyền. | _Bổ sung mới_               |
| **US-SYS-00-03** | Là System Admin, tôi muốn **quên mật khẩu** để reset tài khoản admin qua email xác thực.   | _Bổ sung mới_               |

#### **Epic SYS-01: Quản trị Nền tảng & Khách hàng**

| ID Story         | User Story                                                                                                                                                 | Ghi chú/Logic          |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------- |
| **US-SYS-01-01** | Là System Admin, tôi muốn **tạo mới hoặc phê duyệt (Approve) yêu cầu tạo Tổ chức**, để kích hoạt không gian làm việc cho khách hàng mới.                   | Kiểm soát đầu vào Org  |
| **US-SYS-01-02** | Là System Admin, tôi muốn **đình chỉ (Suspend) hoặc kích hoạt lại một Tổ chức**, để xử lý các trường hợp vi phạm hoặc chậm thanh toán.                     | Quản lý trạng thái Org |
| **US-SYS-01-03** | Là System Admin, tôi muốn **tạo tài khoản quản trị đầu tiên (Org Admin)** cho một tổ chức, để bàn giao hệ thống cho khách hàng.                            | Khởi tạo tài khoản     |
| **US-SYS-01-04** | Là System Admin, tôi muốn **Reset mật khẩu cho bất kỳ User nào** (khi có yêu cầu hỗ trợ đặc biệt), để giúp họ truy cập lại hệ thống.                       | Hỗ trợ khẩn cấp        |
| **US-SYS-01-05** | Là System Admin, tôi muốn **định nghĩa danh sách Roles và Permissions mặc định** cho toàn hệ thống, để các Org sử dụng chung bộ khung chuẩn.               | Quản lý Master Data    |
| **US-SYS-01-06** | Là System Admin, tôi muốn **đăng nhập vào một Tổ chức dưới quyền hỗ trợ (Impersonate)**, để giúp khách hàng thiết lập hệ thống hoặc xử lý lỗi kỹ thuật.    | Hỗ trợ khách hàng      |
| **US-SYS-01-07** | Là System Admin, tôi muốn **cấu hình các gói giới hạn (Quota)** (VD: Số lượng user tối đa, dung lượng lưu trữ), để phân cấp các gói dịch vụ bán cho khách. | Giới hạn tài nguyên    |

#### **Epic SYS-02: Giám sát & Bảo mật Toàn cục**

| ID Story         | User Story                                                                                                                                     | Ghi chú/Logic         |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------- |
| **US-SYS-02-01** | Là System Admin, tôi muốn **xem Dashboard tổng hợp toàn hệ thống** (Tổng số Org, tổng số User active), để theo dõi sự phát triển của sản phẩm. | Business Intelligence |
| **US-SYS-02-02** | Là System Admin, tôi muốn **truy xuất Audit Log toàn hệ thống**, để biết ai đã can thiệp vào dữ liệu của các Org vào lúc nào.                  | Bảo mật & Minh bạch   |

#### **Epic SYS-03: Thùng rác hệ thống (System Recycle Bin)**

| ID Story         | User Story                                                                                                                               | Ghi chú/Logic      |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------- | :----------------- |
| **US-SYS-03-01** | Là System Admin, tôi muốn **xem danh sách các Organization đã bị xóa**, để quản lý vòng đời của khách hàng.                              | Quản lý Platform   |
| **US-SYS-03-02** | Là System Admin, tôi muốn **khôi phục một Organization** cùng toàn bộ dữ liệu đi kèm, để hỗ trợ khách hàng khi họ muốn quay lại sử dụng. | Hỗ trợ khách hàng  |
| **US-SYS-03-03** | Là System Admin, tôi muốn **xóa vĩnh viễn một Organization**, để giải phóng hoàn toàn tài nguyên hệ thống theo yêu cầu pháp lý/thanh lý. | Tuân thủ & Dọn dẹp |

---

### 5. Vai trò: Quản trị Tổ chức (Org Admin - CEO Khách hàng)

_Đây là người làm chủ không gian làm việc của một công ty cụ thể._

#### **Epic ORG-00: Xác thực & Truy cập (Authentication)**

| ID Story         | User Story                                                                            | Ghi chú/Nguồn (CSV/Đề xuất) |
| :--------------- | :------------------------------------------------------------------------------------ | :-------------------------- |
| **US-ORG-00-01** | Là Org Admin, tôi muốn **đăng nhập** để quản lý nhân sự và cấu hình tổ chức của mình. | _Bổ sung mới_               |
| **US-ORG-00-02** | Là Org Admin, tôi muốn **đăng xuất** để kết thúc phiên làm việc quản trị.             | _Bổ sung mới_               |
| **US-ORG-00-03** | Là Org Admin, tôi muốn **quên mật khẩu** để khôi phục tài khoản khi cần thiết.        | _Bổ sung mới_               |

#### **Epic ORG-01: Quản lý vòng đời nhân sự (Employee Lifecycle)**

| ID Story         | User Story                                                                                                                                   | Ghi chú/Nguồn     |
| :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------- | :---------------- |
| **US-ORG-01-01** | Là Org Admin, tôi muốn **tạo trực tiếp tài khoản mới cho nhân viên**, để họ có thông tin đăng nhập ngay mà không cần chờ check mail.         | Thủ công (Manual) |
| **US-ORG-01-02** | Là Org Admin, tôi muốn **gửi link mời gia nhập**, để nhân viên tự đăng ký thông tin cá nhân và mật khẩu.                                     | Tự động (Invite)  |
| **US-ORG-01-03** | Là Org Admin, tôi muốn **Vô hiệu hóa (Deactivate) tài khoản**, để ngăn truy cập khi nhân sự nghỉ việc mà vẫn giữ lại dữ liệu lịch sử của họ. | CSV Epic 14       |
| **US-ORG-01-04** | Là Org Admin, tôi muốn **Kích hoạt lại (Reactivate) tài khoản**, để nhân viên có thể quay lại làm việc sau một thời gian tạm nghỉ.           | **Bổ sung mới**   |
| **US-ORG-01-05** | Là Org Admin, tôi muốn **Reset mật khẩu cho nhân viên trong công ty**, để hỗ trợ họ khi họ quên mật khẩu.                                    | Support nội bộ    |

#### **Epic ORG-02: Quản lý phân quyền nội bộ (Internal RBAC)**

| ID Story         | User Story                                                                                                                               | Ghi chú/Nguồn    |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------- | :--------------- |
| **US-ORG-02-01** | Là Org Admin, tôi muốn **gán Role (PM, EMP, CEO) cho nhân viên**, để phân chia quyền hạn đúng với chức vụ của họ.                        | CSV Epic 8       |
| **US-ORG-02-02** | Là Org Admin, tôi muốn **thay đổi Role của nhân viên**, để cập nhật quyền hạn khi họ được thăng chức hoặc chuyển bộ phận.                | Quản lý thay đổi |
| **US-ORG-02-03** | Là Org Admin, tôi muốn **tùy chỉnh quyền hạn của một Role cụ thể** (nếu hệ thống cho phép), để đáp ứng đặc thù vận hành của công ty tôi. | Tùy biến sâu     |

#### **Epic ORG-03: Cấu hình Workspace nội bộ**

| ID Story         | User Story                                                                                                                                       | Ghi chú/Logic |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------- | :------------ |
| **US-ORG-03-01** | Là Org Admin, tôi muốn **cập nhật thông tin công ty** (Logo, tên hiển thị, múi giờ), để cá nhân hóa không gian làm việc.                         | Branding      |
| **US-ORG-03-02** | Là Org Admin, tôi muốn **thiết lập quy trình Khóa Log Time** (VD: Tự động khóa sau mỗi tối Chủ Nhật), để chuẩn hóa kỷ luật làm việc của công ty. | ABAC Logic    |
| **US-ORG-03-03** | Là Org Admin, tôi muốn **thiết lập thêm sửa xóa các danh mục phù hợp** (VD: Nhóm kỹ năng, Loại dự án: Game, Web, App) cho công ty                | ABAC Logic    |

#### **Epic ORG-04: Quản trị Thùng rác tổ chức (Recycle Bin Management)**

| ID Story         | User Story                                                                                                                   | Ghi chú/Logic |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------- | :------------ |
| **US-ORG-04-01** | Là Org Admin, tôi muốn **xem danh sách nhân sự đã bị vô hiệu hóa/xóa**, để quản lý danh sách thành viên trong quá khứ.       | Nhân sự       |
| **US-ORG-04-02** | Là Org Admin, tôi muốn **khôi phục tài khoản nhân sự** từ thùng rác, để họ có thể tiếp tục làm việc mà không mất dữ liệu cũ. | Nhân sự       |
| **US-ORG-04-03** | Là Org Admin, tôi muốn **xem và khôi phục các dự án đã bị xóa**, để quản lý toàn diện tài nguyên của công ty.                | Dự án         |

---

### So sánh quyền hạn để bạn dễ hình dung:

| Tính năng               | System Admin (Bạn)  | Org Admin (Khách) | Nhân viên (User) |
| :---------------------- | :-----------------: | :---------------: | :--------------: |
| Tạo Organization mới    | **Có** (Toàn quyền) |       Không       |      Không       |
| Mời nhân viên vào Org   |     Có (Hỗ trợ)     | **Có** (Chủ đạo)  |      Không       |
| Xem Log Time của Org A  |   Có (Quyền Root)   |        Có         |   Chỉ của mình   |
| Xem Log Time của Org B  |   Có (Quyền Root)   |       Không       |      Không       |
| Phê duyệt thanh toán    |       **Có**        |       Không       |      Không       |
| Cấu hình Project nội bộ |     Có (Hỗ trợ)     |      **Có**       | Theo phân quyền  |

### Một vài lưu ý kỹ thuật khi triển khai:

1.  **Impersonation (US-SYS-01-03):** Khi bạn đăng nhập vào Org của khách để hỗ trợ, hệ thống phải ghi log lại cực kỳ chi tiết để tránh các vấn đề pháp lý sau này về quyền riêng tư dữ liệu.
2.  **Rich Text Editor:** Trường mô tả (description) của task và nội dung bình luận (comments) cần hỗ trợ định dạng siêu văn bản (Rich Text) để trình bày thông tin rõ ràng.
3.  **Join Code (US-ORG-01-02):** Mã này nên có thời hạn hoặc có nút "Refresh" để Org Admin có thể vô hiệu hóa mã cũ nếu lỡ bị lộ ra ngoài.
4.  **Tenant ID Isolation:** Ở tầng Code (Backend), mọi câu truy vấn phải luôn có filter `WHERE org_id = current_user.org_id`. Riêng với **System Admin**, bạn sẽ có một filter đặc biệt để bỏ qua điều kiện này khi cần xem toàn cục.
5.  **Comment @Mentions & Threading:** Hệ thống comment phải hỗ trợ:
    - Tagging người (`@username`) từ danh sách người được assign vào task.
    - Thread comment để tổ chức cuộc trò chuyện theo chủ đề (reply to comment).
    - Thông báo tự động khi bị tag hoặc được reply.
